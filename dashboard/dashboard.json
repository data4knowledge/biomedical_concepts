{
  "title": "Biomedical Concepts Treatise",
  "version": "2.0",
  "settings": {
    "pagenumber": 0,
    "editable": true,
    "fullscreenEnabled": true,
    "parameters": {
      "neodash_study_protocol_brief_title": "DDR",
      "neodash_skos_concept_notation": "RACE"
    }
  },
  "pages": [
    {
      "title": "Description",
      "reports": [
        {
          "title": "",
          "query": "MATCH (v:VERSION) RETURN v.version as Version, v.updates as Updates\n\n\n",
          "width": "6",
          "type": "table",
          "height": "3",
          "selection": {},
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "",
          "query": "MATCH (n:LOGICAL)-[r]->(m:LOGICAL) \nRETURN n,r,m\n\n\n",
          "width": 3,
          "type": "graph",
          "height": 3,
          "selection": {
            "LOGICAL": "name"
          },
          "settings": {
            "nodePositions": {}
          }
        }
      ]
    },
    {
      "title": "FHIR Data Types",
      "reports": [
        {
          "title": "Detailed Graph",
          "query": "MATCH (f:FHIR)-[s]->(t:FHIR_DATA_TYPE)-[r]->(p:FHIR_DATA_TYPE_PROPERTY) RETURN f,s,t,r,p\n\n\n",
          "width": 3,
          "type": "graph",
          "height": 3,
          "selection": {
            "FHIR": "version",
            "FHIR_DATA_TYPE": "name",
            "FHIR_DATA_TYPE_PROPERTY": "name"
          },
          "settings": {
            "nodePositions": {},
            "defaultNodeSize": 4,
            "layout": "force-directed",
            "frozen": false
          }
        },
        {
          "title": "Date Types in the System",
          "query": "MATCH (t:FHIR_DATA_TYPE) RETURN t.name as Name\n\n\n",
          "width": 3,
          "type": "table",
          "height": 3,
          "selection": {},
          "settings": {
            "nodePositions": {}
          }
        }
      ]
    },
    {
      "title": "Canonical Model",
      "reports": [
        {
          "title": "Top Level",
          "query": "MATCH (n:CANONICAL_MODEL)-[r]->(m:CANONICAL_NODE) RETURN n,m,r\n\n\n",
          "width": 3,
          "type": "graph",
          "height": 3,
          "selection": {
            "CANONICAL_MODEL": "name",
            "CANONICAL_NODE": "name"
          },
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "Detailed Graph",
          "query": "MATCH (n:CANONICAL_MODEL)-[r:HAS_SUB_MODEL|CONSISTS_OF*1..]->(m:CANONICAL_NODE)\nwith n,r,m\nOPTIONAL MATCH (m)-[t:HAS_DATA_TYPE]->(o:CANONICAL_DATA_TYPE) \nRETURN n,m,o,r,t\n\n\n",
          "width": "9",
          "type": "graph",
          "height": "3",
          "selection": {
            "CANONICAL_MODEL": "name",
            "CANONICAL_NODE": "name",
            "CANONICAL_DATA_TYPE": "data_type"
          },
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "Data Types In System",
          "query": "MATCH (n:CANONICAL_MODEL)-[r:HAS_SUB_MODEL]->(m:CANONICAL_NODE)-[s:CONSISTS_OF*1..]->(p:CANONICAL_NODE)-[t]->(d:CANONICAL_DATA_TYPE) RETURN m.name as Model, p.name as Name, d.data_type as Datatype\n\n\n",
          "width": 3,
          "type": "table",
          "height": 3,
          "selection": {},
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "Example Canonical Definition - Observation Result, Coded or Quantity",
          "query": "MATCH (n:CANONICAL_MODEL)-[r]->(m:CANONICAL_NODE)\n-[v]->(q:CANONICAL_NODE)-[w]->(x:CANONICAL_NODE {name: 'RESULT'})-[t]->(o:CANONICAL_DATA_TYPE)-[u]->(p:CANONICAL_DATA_TYPE_PROPERTY) \nRETURN n,r,m,v,q,w,x,t,o,p,u\n\n",
          "width": "9",
          "type": "graph",
          "height": "3",
          "selection": {
            "CANONICAL_MODEL": "name",
            "CANONICAL_NODE": "name",
            "CANONICAL_DATA_TYPE": "name",
            "CANONICAL_DATA_TYPE_PROPERTY": "name"
          },
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "",
          "query": "MATCH (m:CANONICAL_NODE)-[r]->(n:CANONICAL_DATA_TYPE)-[s]->(o:CANONICAL_DATA_TYPE_PROPERTY) \nRETURN m.name,n.data_type,o.name, o.uri\n\n\n",
          "width": "12",
          "type": "table",
          "height": "3",
          "selection": {},
          "settings": {
            "nodePositions": {}
          }
        }
      ]
    },
    {
      "title": "CT",
      "reports": [
        {
          "title": "Full Code Lists Loaded",
          "query": "MATCH (cl:SKOS_CONCEPT)-[r1]->(cli:SKOS_CONCEPT) RETURN DISTINCT cl.identifier as C_Code, cl.notation as Submission, cl.pref_label as Preferred_Term\n\n\n",
          "width": 3,
          "type": "table",
          "height": 3,
          "selection": {},
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "Select Code List",
          "query": "MATCH (n:`SKOS_CONCEPT`) \nWHERE toLower(toString(n.`notation`)) CONTAINS toLower($input) \nRETURN DISTINCT n.`notation` as value LIMIT 5",
          "width": 3,
          "type": "select",
          "height": 3,
          "selection": {},
          "settings": {
            "type": "Node Property",
            "entityType": "SKOS_CONCEPT",
            "propertyType": "notation",
            "parameterName": "neodash_skos_concept_notation"
          }
        },
        {
          "title": "Code List Items",
          "query": "MATCH (n:SKOS_CONCEPT {notation: $neodash_skos_concept_notation})-[]->(m:SKOS_CONCEPT) \nRETURN m.notation as Submission, n.identifier as C_Code \n\n\n",
          "width": 3,
          "type": "table",
          "height": 3,
          "selection": {},
          "settings": {}
        }
      ]
    },
    {
      "title": "Biomedical Concepts",
      "reports": [
        {
          "title": "BC Templates",
          "query": "MATCH (n:BC_TEMPLATE)\nRETURN n.name as Name\n\n\n",
          "width": 3,
          "type": "table",
          "height": 3,
          "selection": {},
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "Detailed BC Template Graph",
          "query": "MATCH (m:BC_TEMPLATE)-[r]->(n:BC_ITEM)-[s]->(o:BC_DATA_TYPE)-[t]->(p:BC_DATA_TYPE_PROPERTY), (o)-[u]->(q:FHIR_DATA_TYPE)\nRETURN m,r,n,s,o,t,p,u,q\n\n",
          "width": "6",
          "type": "graph",
          "height": "3",
          "selection": {
            "BC_TEMPLATE": "name",
            "BC_ITEM": "name",
            "BC_DATA_TYPE": "name",
            "BC_DATA_TYPE_PROPERTY": "name",
            "FHIR_DATA_TYPE": "name"
          },
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "BC Template Canonical References",
          "query": "MATCH (m:BC_TEMPLATE)-[r]->(n:BC_ITEM)-[s]->(o:BC_DATA_TYPE)-[t]->(p:BC_DATA_TYPE_PROPERTY)-[u]->(q:CANONICAL_DATA_TYPE_PROPERTY)\nRETURN m,r,n,s,o,t,p,u,q\n\n",
          "width": 3,
          "type": "graph",
          "height": 3,
          "selection": {
            "BC_TEMPLATE": "name",
            "BC_ITEM": "name",
            "BC_DATA_TYPE": "name",
            "BC_DATA_TYPE_PROPERTY": "name",
            "CANONICAL_DATA_TYPE_PROPERTY": "name"
          },
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "BCs In System",
          "query": "MATCH (n:BC_INSTANCE)-[:BASED_ON]->(t) RETURN n.name AS Name, t.name AS Template\n\n\n",
          "width": 3,
          "type": "table",
          "height": 3,
          "selection": {},
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "Detailed BC Instance Graph",
          "query": "MATCH (bc:BC_INSTANCE)-[r1:HAS_ITEM|HAS_IDENTIFIER]->(i:BC_ITEM)\nWITH bc,i,r1\nOPTIONAL MATCH (i)-[r2:HAS_DATA_TYPE]->(dt:BC_DATA_TYPE)-[r3:HAS_DATA_TYPE_PROPERTY]->(dp:BC_DATA_TYPE_PROPERTY)\nWITH bc,r1,i,r2,dt,r3,dp\nOPTIONAL MATCH (dt)-[r4:HAS_RESPONSE]->(sc)\nRETURN bc,r1,i,r2,dt,r3,dp,r4,sc\n\n",
          "width": "6",
          "type": "graph",
          "height": "3",
          "selection": {
            "BC_INSTANCE": "name",
            "BC_ITEM": "name",
            "BC_DATA_TYPE": "name",
            "BC_DATA_TYPE_PROPERTY": "name",
            "SKOS_CONCEPT": "label",
            "BC_VALUE_SET": "id"
          },
          "settings": {
            "nodePositions": {}
          }
        }
      ]
    },
    {
      "title": "SDTM Definitions",
      "reports": [
        {
          "title": "SDTM Model",
          "query": "MATCH (n:SDTM_MODEL)-[]->(m:SDTM_CLASS) RETURN n.name as Model, n.name as Class\n\n\n",
          "width": 3,
          "type": "table",
          "height": 3,
          "selection": {},
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "SDTM Model Graph",
          "query": "MATCH (n:SDTM_MODEL)-[r1]->(m:SDTM_CLASS)-[r2]->(v:SDTM_MODEL_VARIABLE)-[r3]->(c:CANONICAL_DATA_TYPE_PROPERTY) RETURN n,m,v,c,r1,r2,r3\n\n\n",
          "width": 3,
          "type": "graph",
          "height": 3,
          "selection": {
            "SDTM_MODEL": "name",
            "SDTM_CLASS": "name",
            "SDTM_MODEL_VARIABLE": "name",
            "CANONICAL_DATA_TYPE_PROPERTY": "name"
          },
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "SDTM Domains",
          "query": "MATCH (n:SDTM_DATASET) RETURN n.name as Name, n.description as Description\n\n\n",
          "width": 3,
          "type": "table",
          "height": 3,
          "selection": {},
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "SDTM IG Graph",
          "query": "MATCH (n:SDTM_IG)-[r1]->(m:SDTM_DATASET) RETURN n,m,r1\n",
          "width": 3,
          "type": "graph",
          "height": 3,
          "selection": {
            "SDTM_IG": "label",
            "SDTM_DATASET": "name"
          },
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "IG to Model & Canonical Links",
          "query": "MATCH (v1:SDTM_MODEL_VARIABLE)-[]->(c:CANONICAL_DATA_TYPE_PROPERTY)\nWITH v1,c\nMATCH (v1)<-[]-(v2:SDTM_VARIABLE) \nRETURN v2.name as IG_Variable, v1.name as Model_Variable, c.name as Canonical \n\n\n\n",
          "width": 3,
          "type": "table",
          "height": 3,
          "selection": {},
          "settings": {
            "nodePositions": {}
          }
        }
      ]
    },
    {
      "title": "Study",
      "reports": [
        {
          "title": "Protocols",
          "query": "MATCH (n:`STUDY_PROTOCOL`) \nWHERE toLower(toString(n.`brief_title`)) CONTAINS toLower($input) \nRETURN DISTINCT n.`brief_title` as value LIMIT 5",
          "width": "3",
          "type": "select",
          "height": "3",
          "selection": {},
          "settings": {
            "type": "Node Property",
            "entityType": "STUDY_PROTOCOL",
            "propertyType": "brief_title",
            "parameterName": "neodash_study_protocol_brief_title"
          }
        },
        {
          "title": "Study Identifiers",
          "query": "MATCH (pr:STUDY_PROTOCOL)<-[]-(s:STUDY)-[]->(si:STUDY_IDENTIFIER) WHERE pr.brief_title = $neodash_study_protocol_brief_title return si.name as Organisation, si.org_code as Identifier\n\n\n\n",
          "width": "3",
          "type": "table",
          "height": "3",
          "selection": {},
          "settings": {}
        },
        {
          "title": "Epochs And Visits",
          "query": "MATCH (pr:STUDY_PROTOCOL)<-[]-(s:STUDY)-[]->(sd:STUDY_DESIGN)-[]->(sc:STUDY_CELL)-[]->(e:EPOCH)-[]->(v:VISIT) WHERE pr.brief_title = $neodash_study_protocol_brief_title\nWITH e.study_epoch_name as Epoch, v.name as Visit ORDER BY e.sequence_in_study, v.number\nRETURN DISTINCT Epoch, Visit",
          "width": "3",
          "type": "table",
          "height": "3",
          "selection": {},
          "settings": {}
        },
        {
          "title": "External CT Used",
          "query": "MATCH (c:CODE) RETURN DISTINCT c.code_system As Code_System\n\n",
          "width": "3",
          "type": "table",
          "height": "3",
          "selection": {},
          "settings": {}
        },
        {
          "title": "Visit And Activities",
          "query": "MATCH (pr:STUDY_PROTOCOL)<-[]-(s:STUDY)-[]->(sd:STUDY_DESIGN)-[]->(sc:STUDY_CELL)-[]->(e:EPOCH)-[]->(v:VISIT)<-[]-(wfi:WORKFLOW_ITEM)-[]->(a:ACTIVITY) WHERE pr.brief_title = $neodash_study_protocol_brief_title\n    WITH v.name as Visit, a.description as Activity ORDER BY v.number\n    RETURN DISTINCT Visit, Activity\n\n\n",
          "width": 3,
          "type": "table",
          "height": 3,
          "selection": {},
          "settings": {}
        },
        {
          "title": "Unique Activities",
          "query": "MATCH (pr:STUDY_PROTOCOL)<-[]-(s:STUDY)-[]->(sd:STUDY_DESIGN)-[]->(sc:STUDY_CELL)-[]->(e:EPOCH)-[]->(v:VISIT)<-[]-(wfi:WORKFLOW_ITEM)-[]->(a:ACTIVITY) WHERE pr.brief_title = $neodash_study_protocol_brief_title\n    WITH a.description as Activity ORDER BY v.number\n    RETURN DISTINCT Activity\n\n\n\n",
          "width": 3,
          "type": "table",
          "height": 3,
          "selection": {},
          "settings": {}
        },
        {
          "title": "The Graph",
          "query": "MATCH (pr:STUDY_PROTOCOL)<-[d]-(s)-[e *]->(m) WHERE pr.brief_title = $neodash_study_protocol_brief_title RETURN pr,s,d,e,m LIMIT 1000\n\n\n",
          "width": "6",
          "type": "graph",
          "height": "3",
          "selection": {
            "STUDY_PROTOCOL": "brief_title",
            "STUDY": "study_title",
            "STUDY_IDENTIFIER": "name",
            "STUDY_TYPE": "study_type_classification",
            "STUDY_PHASE": "study_phase_desc",
            "STUDY_DESIGN": "(label)",
            "POPULATION": "(label)",
            "INVESTIGATIONAL_INTERVENTIONS": "(label)",
            "CODE": "(label)",
            "INDICATION": "(label)",
            "OBJECTIVE": "(label)",
            "ENDPOINT": "(label)",
            "STUDY_CELL": "(label)",
            "STUDY_ARM": "(label)",
            "EPOCH": "id",
            "VISIT": "name",
            "RULE": "(label)",
            "STUDY_ELEMENT": "(label)"
          },
          "settings": {
            "nodePositions": {}
          }
        }
      ]
    },
    {
      "title": "Study Data",
      "reports": [
        {
          "title": "Raw Data",
          "query": "MATCH (n:STUDY_DATA_POINT)-[]->(m:STUDY_SUBJECT) RETURN n.value as Value, m.identifier as Subject_Id\n\n\n",
          "width": 3,
          "type": "table",
          "height": 3,
          "selection": {},
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "Study Data",
          "query": "MATCH (sd:SDTM_DATASET {name: 'VS'})-[]->(sv:SDTM_VARIABLE)-[]->(cv:SDTM_MODEL_VARIABLE)-[:IS_CANONICAL_REF]->(fdt:CANONICAL_DATA_TYPE_PROPERTY)\n  <-[:IS_CANONICAL_REF]-(bdt:BC_DATA_TYPE_PROPERTY)<-[:FOR_VALUE]-(sdp:STUDY_DATA_POINT)-[]->(wfi:WORKFLOW_ITEM), \n  (wfi)-[:USED_IN_VISIT]->(v:VISIT), \n  (sdp)-[:FOR_SUBJECT]->(subj:STUDY_SUBJECT),\n  (e:EPOCH)-[]->(v),\n  (ct)<-[:HAS_RESPONSE]-()<-[:HAS_DATA_TYPE]-()<-[:HAS_IDENTIFIER]-(bc:STUDY_BC_INSTANCE)-[*]->(bdt)\nRETURN subj.identifier as subject, wfi.id as key, sd.name as domain, sv.name as variable, ct.notation as test_code, sdp.value as data, v.name as visit, e.study_epoch_name as epoch\n\n",
          "width": "9",
          "type": "table",
          "height": "3",
          "selection": {},
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "Key Relationships I",
          "query": "MATCH (sd:SDTM_DATASET {name: 'VS'})-[r1]->(sv:SDTM_VARIABLE)-[r2]->(cv:SDTM_MODEL_VARIABLE)-[r3:IS_CANONICAL_REF]->(fdt:CANONICAL_DATA_TYPE_PROPERTY)<-[r4:IS_CANONICAL_REF]-(bdt:BC_DATA_TYPE_PROPERTY)\nRETURN sd, sv, cv, fdt, bdt, r1,r2,r3,r4\n\n\n",
          "width": "6",
          "type": "graph",
          "height": "3",
          "selection": {
            "SDTM_DATASET": "name",
            "SDTM_VARIABLE": "name",
            "SDTM_MODEL_VARIABLE": "name",
            "CANONICAL_DATA_TYPE_PROPERTY": "name",
            "BC_DATA_TYPE_PROPERTY": "name"
          },
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "Key Relationships II",
          "query": "MATCH (sdp:STUDY_DATA_POINT)-[r6]->(wfi:WORKFLOW_ITEM), (wfi)-[r7:USED_IN_VISIT]->(v:VISIT), (sdp)-[r8:FOR_SUBJECT]->(subj:STUDY_SUBJECT)\nRETURN sdp, wfi, v, subj, r6, r7,r8\n\n\n\n\n\n",
          "width": "6",
          "type": "graph",
          "height": "3",
          "selection": {
            "STUDY_DATA_POINT": "(label)",
            "WORKFLOW_ITEM": "id",
            "VISIT": "name",
            "STUDY_SUBJECT": "(label)"
          },
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "The Overall Graph",
          "query": "MATCH (sd:SDTM_DATASET {name: 'VS'})-[r1]->(sv:SDTM_VARIABLE)-[r2]->(cv:SDTM_MODEL_VARIABLE)-[r3:IS_CANONICAL_REF]->(fdt:CANONICAL_DATA_TYPE_PROPERTY)<-[r4:IS_CANONICAL_REF]-(bdt:BC_DATA_TYPE_PROPERTY)<-[r5:FOR_VALUE]-(sdp:STUDY_DATA_POINT)-[r6]->(wfi:WORKFLOW_ITEM), (wfi)-[r7:USED_IN_VISIT]->(v:VISIT), (sdp)-[r8:FOR_SUBJECT]->(subj:STUDY_SUBJECT)\nRETURN sd, sv, cv, fdt, bdt, sdp, wfi, v, subj, r1,r2,r3,r4,r5,r6,r7,r8\n\n\n",
          "width": "12",
          "type": "graph",
          "height": "3",
          "selection": {
            "SDTM_DATASET": "name",
            "SDTM_VARIABLE": "name",
            "SDTM_MODEL_VARIABLE": "name",
            "CANONICAL_DATA_TYPE_PROPERTY": "name",
            "BC_DATA_TYPE_PROPERTY": "name",
            "STUDY_DATA_POINT": "(label)",
            "WORKFLOW_ITEM": "id",
            "VISIT": "name",
            "STUDY_SUBJECT": "(label)"
          },
          "settings": {
            "nodePositions": {}
          }
        }
      ]
    }
  ]
}